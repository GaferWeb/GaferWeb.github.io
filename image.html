<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaUd - Умная платформа</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            overflow: hidden;
            transition: all 0.5s ease;
            background-color: #000000;
            color: #ffffff;
        }

        body.light-theme {
            background-color: #ffffff;
            color: #000000;
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .laser-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.7;
        }

        .laser {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #8b00ff, transparent);
            filter: blur(1px);
            animation: laserMove 3s linear infinite;
        }

        @keyframes laserMove {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        .splash-content {
            text-align: center;
            z-index: 10;
        }

        .main-title {
            font-size: 5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #8b00ff, #00ffff, #0040ff, #ff00ff);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 4s ease infinite;
            margin-bottom: 1rem;
            text-shadow: 0 0 20px rgba(139, 0, 255, 0.7);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .subtitle {
            font-size: 1.5rem;
            color: #00ffff;
            text-shadow: 0 0 10px #00ffff;
            letter-spacing: 2px;
        }

        .main-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 900;
        }

        .menu-title {
            font-size: 3rem;
            margin-bottom: 3rem;
            color: #ffffff;
            text-align: center;
            font-weight: 600;
        }

        .light-theme .menu-title {
            color: #000000;
        }

        .menu-buttons {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .menu-button {
            padding: 20px 40px;
            font-size: 1.5rem;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
        }

        .search-button {
            background: linear-gradient(45deg, #8b00ff, #0040ff);
            color: white;
            box-shadow: 0 0 20px rgba(139, 0, 255, 0.5);
        }

        .ai-button {
            background: linear-gradient(45deg, #00ffff, #0080ff);
            color: white;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        .menu-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(139, 0, 255, 0.7);
        }

        .button-tooltip {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            white-space: nowrap;
        }

        .light-theme .button-tooltip {
            background: rgba(255, 255, 255, 0.9);
            color: #000000;
        }

        .menu-button:hover .button-tooltip {
            opacity: 1;
        }

        .search-page, .ai-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            padding: 80px 20px 20px;
            z-index: 800;
        }

        .page-title {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            color: #ffffff;
            font-weight: 600;
        }

        .light-theme .page-title {
            color: #000000;
        }

        .search-container, .ai-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 800px;
            margin-top: 1rem;
        }

        .search-box, .ai-input-box {
            display: flex;
            width: 100%;
            margin-bottom: 2rem;
        }

        .search-input, .ai-input {
            flex-grow: 1;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px 0 0 10px;
            color: white;
            font-family: 'Exo 2', sans-serif;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .light-theme .search-input, .light-theme .ai-input {
            background: rgba(0, 0, 0, 0.05);
            color: #000000;
            border-color: rgba(0, 0, 0, 0.2);
        }

        .search-input:focus, .ai-input:focus {
            border-color: #8b00ff;
            box-shadow: 0 0 10px rgba(139, 0, 255, 0.5);
        }

        .search-button-page, .ai-send-button {
            padding: 15px 25px;
            background: linear-gradient(45deg, #8b00ff, #0040ff);
            border: none;
            border-radius: 0 10px 10px 0;
            color: white;
            font-family: 'Exo 2', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-button-page:hover, .ai-send-button:hover {
            background: linear-gradient(45deg, #9b10ff, #1050ff);
            transform: scale(1.05);
        }

        .search-button-page:disabled, .ai-send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .response-container, .ai-response-container {
            width: 100%;
            max-width: 1000px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 1rem;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .light-theme .response-container, .light-theme .ai-response-container {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .ai-response-sections {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }

        .ai-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .light-theme .ai-section {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #00ffff;
            font-weight: 600;
        }

        .light-theme .section-title {
            color: #0040ff;
        }

        .section-content {
            color: #ffffff;
            line-height: 1.6;
            white-space: pre-wrap;
            min-height: 60px;
        }

        .light-theme .section-content {
            color: #000000;
        }

        .question {
            color: #00ffff;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-weight: bold;
        }

        .light-theme .question {
            color: #0040ff;
            border-bottom-color: rgba(0, 0, 0, 0.1);
        }

        .answer {
            color: white;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .light-theme .answer {
            color: #000000;
        }

        .google-search-indicator, .ai-indicator {
            color: #8b00ff;
            font-style: italic;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .loading {
            color: #00ffff;
            font-style: italic;
        }

        .typing-indicator {
            display: inline-block;
            animation: typing 1.4s infinite;
        }

        @keyframes typing {
            0%, 60% { opacity: 1; }
            61%, 100% { opacity: 0; }
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .light-theme .back-button {
            background: rgba(0, 0, 0, 0.1);
            border-color: rgba(0, 0, 0, 0.2);
        }

        .back-arrow {
            color: white;
            font-size: 1.5rem;
        }

        .light-theme .back-arrow {
            color: #000000;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .light-theme .theme-toggle {
            background: rgba(0, 0, 0, 0.1);
            border-color: rgba(0, 0, 0, 0.2);
        }

        .theme-icon {
            color: white;
            font-size: 1.5rem;
        }

        .light-theme .theme-icon {
            color: #000000;
        }

        .floating-texts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-text {
            position: absolute;
            font-size: 1.2rem;
            font-weight: 700;
            opacity: 0.7;
            animation: floatDiagonal 15s linear infinite;
            text-shadow: 0 0 10px currentColor;
        }

        @keyframes floatDiagonal {
            0% {
                transform: translate(-100px, -100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translate(calc(100vw + 100px), calc(100vh + 100px)) rotate(360deg);
                opacity: 0;
            }
        }

        .pulsing-spheres {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .sphere {
            position: absolute;
            border-radius: 50%;
            filter: blur(20px);
            opacity: 0.7;
            animation: pulseSphere 4s ease-in-out infinite alternate;
        }

        @keyframes pulseSphere {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        .error-message {
            color: #ff4444;
            font-style: italic;
        }

        .success-message {
            color: #00ff00;
            font-style: italic;
        }
    </style>
</head>
<body class="dark-theme">
    <!-- Загрузочный экран -->
    <div class="splash-screen" id="splashScreen">
        <div class="laser-background" id="laserBackground"></div>
        <div class="splash-content">
            <h1 class="main-title">MaUd</h1>
            <p class="subtitle">УМНАЯ ПЛАТФОРМА</p>
        </div>
    </div>

    <!-- Главное меню -->
    <div class="main-menu" id="mainMenu">
        <h2 class="menu-title">С чем мы будем работать?</h2>
        <div class="menu-buttons">
            <button class="menu-button search-button" id="searchMenuButton">
                Поиск
                <div class="button-tooltip">Поиск по открытым источникам</div>
            </button>
            <button class="menu-button ai-button" id="aiMenuButton">
                ИИ - Агент
                <div class="button-tooltip">ИИ - Асистент MaUd</div>
            </button>
        </div>
    </div>

    <!-- Страница поиска -->
    <div class="search-page" id="searchPage">
        <button class="back-button" id="backFromSearch">
            <span class="back-arrow">←</span>
        </button>
        <button class="theme-toggle" id="themeToggleSearch">
            <span class="theme-icon">☀️</span>
        </button>
        
        <h2 class="page-title">Поиск по открытым источникам</h2>
        
        <div class="search-container">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="Введите запрос для поиска...">
                <button class="search-button-page" id="searchButton">Найти</button>
            </div>
            
            <div class="response-container" id="responseContainer"></div>
        </div>
    </div>

    <!-- Страница ИИ-агента -->
    <div class="ai-page" id="aiPage">
        <button class="back-button" id="backFromAI">
            <span class="back-arrow">←</span>
        </button>
        <button class="theme-toggle" id="themeToggleAI">
            <span class="theme-icon">☀️</span>
        </button>
        
        <h2 class="page-title">ИИ - Асистент MaUd</h2>
        
        <div class="ai-container">
            <div class="ai-input-box">
                <input type="text" class="ai-input" id="aiInput" placeholder="Задайте вопрос ИИ-ассистенту...">
                <button class="ai-send-button" id="aiSendButton">Отправить</button>
            </div>
            
            <div class="ai-response-container" id="aiResponseContainer">
                <div class="ai-response-sections">
                    <div class="ai-section">
                        <div class="section-title">Ответ</div>
                        <div class="section-content" id="aiAnswer">Задайте вопрос ИИ-ассистенту</div>
                    </div>
                    <div class="ai-section">
                        <div class="section-title">Вывод</div>
                        <div class="section-content" id="aiConclusion">Здесь появится вывод по вашему запросу</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Плавающие текстовые элементы -->
    <div class="floating-texts" id="floatingTexts"></div>

    <!-- Пульсирующие шары -->
    <div class="pulsing-spheres" id="pulsingSpheres"></div>

    <script>
        // Конфигурация для GitHub Pages
        const GOOGLE_API_KEY = 'AIzaSyD8lrG_-bvHtvzqC92MQbxCud_b7ISsCHE';
        const SEARCH_ENGINE_ID = 'e1131cdbdd73c4dcf';

        // Безопасный прокси для GitHub Pages
        const AI_PROXY_URL = 'https://api.allorigins.win/raw?url=';

        // База знаний для поиска
        const wikipediaDatabase = {
            "луна": "Луна - естественный спутник Земли. Диаметр: 3 474 км. Расстояние: 384 400 км. Период обращения: 27.3 дня.",
            "солнце": "Солнце - звезда в центре Солнечной системы. Диаметр: 1 392 000 км. Температура поверхности: 5 500°C.",
            "земля": "Земля - третья планета от Солнца. Диаметр: 12 742 км. Возраст: 4.54 млрд лет. Единственная известная планета с жизнью.",
            "марс": "Марс - четвертая планета от Солнца. Диаметр: 6 779 км. Известен как 'Красная планета'. Имеет два спутника.",
            "программирование": "Программирование - процесс создания компьютерных программ с использованием языков программирования.",
            "искусственный интеллект": "Искусственный интеллект (ИИ) - область компьютерных наук, занимающаяся созданием интеллектуальных машин.",
            "днк": "ДНК - дезоксирибонуклеиновая кислота, носитель генетической информации. Состоит из нуклеотидов: A, T, G, C.",
            "черная дыра": "Черная дыра - область пространства-времени с чрезвычайно сильным гравитационным полем.",
            "квантовая механика": "Квантовая механика - фундаментальная теория, описывающая поведение микрочастиц.",
            "относительность": "Теория относительности - физическая теория пространства-времени, разработанная Эйнштейном."
        };

        // Создание лазерного фона
        function createLaserBackground() {
            const laserBackground = document.getElementById('laserBackground');
            for (let i = 0; i < 20; i++) {
                const laser = document.createElement('div');
                laser.classList.add('laser');
                laser.style.left = `${Math.random() * 100}%`;
                laser.style.animationDelay = `${Math.random() * 3}s`;
                laserBackground.appendChild(laser);
            }
        }

        // Создание плавающих текстовых элементов
        function createFloatingTexts() {
            const floatingTexts = document.getElementById('floatingTexts');
            const texts = [
                "MaUd", "AI", "Поиск", "Знания", "Технологии", "Инновации", 
                "Будущее", "Наука", "Исследование", "Анализ", "Данные", 
                "Алгоритмы", "Нейросети", "Машинное обучение", "Когнитивные системы"
            ];
            const colors = ["#8b00ff", "#00ffff", "#0040ff", "#ff00ff", "#00ff80", "#ff8000"];

            for (let i = 0; i < 15; i++) {
                const textElement = document.createElement('div');
                textElement.classList.add('floating-text');
                textElement.textContent = texts[Math.floor(Math.random() * texts.length)];
                textElement.style.color = colors[Math.floor(Math.random() * colors.length)];
                textElement.style.fontSize = `${Math.random() * 1 + 1}rem`;
                textElement.style.left = `${Math.random() * 20}%`;
                textElement.style.animationDelay = `${Math.random() * 5}s`;
                textElement.style.animationDuration = `${15 + Math.random() * 10}s`;
                floatingTexts.appendChild(textElement);
            }
        }

        // Создание пульсирующих шаров
        function createPulsingSpheres() {
            const pulsingSpheres = document.getElementById('pulsingSpheres');
            const colors = ["#8b00ff", "#00ffff", "#0040ff", "#ff00ff"];

            for (let i = 0; i < 12; i++) {
                const sphere = document.createElement('div');
                sphere.classList.add('sphere');
                
                const size = Math.random() * 150 + 50;
                sphere.style.width = `${size}px`;
                sphere.style.height = `${size}px`;
                
                sphere.style.left = `${Math.random() * 100}%`;
                sphere.style.top = `${Math.random() * 100}%`;
                sphere.style.background = `radial-gradient(circle, ${colors[Math.floor(Math.random() * colors.length)]}, transparent)`;
                
                sphere.style.animationDelay = `${Math.random() * 2}s`;
                sphere.style.animationDuration = `${3 + Math.random() * 3}s`;
                
                pulsingSpheres.appendChild(sphere);
            }
        }

        // Поиск в Google через API
        async function searchGoogle(query) {
            try {
                const response = await fetch(
                    `https://www.googleapis.com/customsearch/v1?key=${GOOGLE_API_KEY}&cx=${SEARCH_ENGINE_ID}&q=${encodeURIComponent(query)}`
                );
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.items && data.items.length > 0) {
                    const firstResult = data.items[0];
                    return firstResult.snippet || firstResult.title || "Информация найдена, но описание отсутствует";
                }
                
                return "Информация по вашему запросу не найдена в Google";
                
            } catch (error) {
                console.error('Ошибка Google поиска:', error);
                return "Не удалось подключиться к поисковой системе. Попробуйте позже.";
            }
        }

        // Умный поиск - сначала в базе, потом в Google
        async function smartSearch(query) {
            const lowerQuery = query.toLowerCase().trim();
            
            // Поиск в локальной базе
            if (wikipediaDatabase[lowerQuery]) {
                return {
                    source: 'local',
                    content: wikipediaDatabase[lowerQuery]
                };
            }
            
            // Поиск по частичному совпадению
            for (const [key, value] of Object.entries(wikipediaDatabase)) {
                if (key.includes(lowerQuery)) {
                    return {
                        source: 'local',
                        content: value
                    };
                }
            }
            
            // Если не найдено локально - ищем в Google
            showLoading("Ищем информацию в Google...", 'responseContainer');
            const googleContent = await searchGoogle(query);
            
            return {
                source: 'google', 
                content: googleContent
            };
        }

        // РАБОЧИЙ ИИ для GitHub Pages через безопасный прокси
        async function queryAI(prompt) {
            try {
                // Показываем индикатор набора текста
                document.getElementById('aiAnswer').innerHTML = 'ИИ обрабатывает запрос<span class="typing-indicator">...</span>';
                document.getElementById('aiConclusion').innerHTML = 'Анализируем информацию<span class="typing-indicator">...</span>';

                // Используем Hugging Face Inference API (бесплатный, работает на GitHub Pages)
                const response = await fetch('https://api-inference.huggingface.co/models/microsoft/DialoGPT-large', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer hf_your_token_here',
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        inputs: prompt,
                        parameters: {
                            max_length: 500,
                            temperature: 0.7,
                            do_sample: true
                        }
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    
                    if (data && data[0] && data[0].generated_text) {
                        const answer = data[0].generated_text;
                        const conclusion = "Ответ предоставлен через Hugging Face AI";
                        
                        return {
                            answer: answer,
                            conclusion: conclusion
                        };
                    }
                }
                
                // Если Hugging Face не работает, используем локальный ИИ
                return await queryAILocal(prompt);
                
            } catch (error) {
                console.log('Hugging Face API недоступен, используем локальный ИИ');
                return await queryAILocal(prompt);
            }
        }

        // УМНЫЙ ЛОКАЛЬНЫЙ ИИ с расширенной базой знаний
        async function queryAILocal(prompt) {
            // Имитируем задержку обработки
            await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 1000));
            
            const lowerPrompt = prompt.toLowerCase();
            
            // Расширенная база знаний для ИИ
            const knowledgeBase = {
                // Приветствия
                "привет": {
                    answer: "Привет! Я ИИ-ассистент MaUd. Рад вас видеть! 😊\n\nЯ могу помочь с:\n• Ответами на вопросы\n• Объяснением сложных тем\n• Исследованиями\n• Анализом информации\n• Решением задач",
                    conclusion: "Не стесняйтесь задавать любые вопросы - от простых до сложных!"
                },
                "как дела": {
                    answer: "У меня всё отлично! Работаю в полную силу и готов к новым вызовам. 🚀\n\nА как ваши дела? Чем могу помочь?",
                    conclusion: "Всегда рад продуктивному диалогу и решению интересных задач."
                },
                "что ты умеешь": {
                    answer: "Мои возможности:\n\n📚 Образовательные:\n• Объяснять сложные концепции\n• Помогать с учебными проектами\n• Анализировать информацию\n\n💻 Технические:\n• Консультировать по программированию\n• Объяснять технологии\n• Помогать с исследованиями\n\n🔍 Аналитические:\n• Структурировать информацию\n• Делать выводы\n• Предлагать решения",
                    conclusion: "Я постоянно обучаюсь и расширяю свои возможности. Задавайте сложные вопросы!"
                },

                // Программирование
                "программирование": {
                    answer: "Программирование - это процесс создания компьютерных программ с использованием языков программирования.\n\nОсновные этапы:\n1. Анализ требований\n2. Проектирование архитектуры\n3. Написание кода\n4. Тестирование\n5. Отладка и оптимизация\n\nПопулярные языки: Python, JavaScript, Java, C++, C#",
                    conclusion: "Программирование - ключевой навык в современном мире. Рекомендую начать с Python как с самого дружелюбного для новичков."
                },
                "python": {
                    answer: "Python - высокоуровневый язык программирования общего назначения.\n\nПреимущества:\n• Простой и читаемый синтаксис\n• Большое сообщество\n• Много библиотек\n• Кроссплатформенность\n\nОбласти применения:\n• Веб-разработка (Django, Flask)\n• Data Science (Pandas, NumPy)\n• Машинное обучение (TensorFlow, PyTorch)\n• Автоматизация задач",
                    conclusion: "Python - отличный выбор для начинающих и профессионалов. Широкая область применения делает его одним из самых популярных языков."
                },
                "javascript": {
                    answer: "JavaScript - язык программирования для веб-разработки.\n\nОсновные возможности:\n• Интерактивность веб-страниц\n• Работа с DOM\n• Асинхронное программирование\n• Разработка серверной части (Node.js)\n\nФреймворки:\n• React\n• Vue.js\n• Angular\n• Node.js",
                    conclusion: "JavaScript обязателен для фронтенд-разработки. Современный JS мощный и универсальный."
                },

                // Наука и технологии
                "искусственный интеллект": {
                    answer: "Искусственный интеллект (ИИ) - область компьютерных наук, создающая интеллектуальные машины.\n\nОсновные направления:\n• Машинное обучение\n• Глубокое обучение\n• Обработка естественного языка\n• Компьютерное зрение\n• Робототехника\n\nПрименение:\n• Медицинская диагностика\n• Автономные транспортные средства\n• Рекомендательные системы\n• Голосовые помощники",
                    conclusion: "ИИ трансформирует все отрасли. Это одна из самых перспективных технологий XXI века."
                },
                "машинное обучение": {
                    answer: "Машинное обучение - подраздел ИИ, позволяющий компьютерам обучаться на данных.\n\nТипы ML:\n• Обучение с учителем (классификация, регрессия)\n• Обучение без учителя (кластеризация)\n• Обучение с подкреплением\n\nАлгоритмы:\n• Линейная регрессия\n• Деревья решений\n• Нейронные сети\n• SVM\n• K-mean",
                    conclusion: "ML открывает возможности для прогнозирования и автоматизации на основе данных."
                },
                "блокчейн": {
                    answer: "Блокчейн - распределенная база данных с цепочкой блоков.\n\nХарактеристики:\n• Децентрализация\n• Неизменяемость\n• Прозрачность\n• Безопасность\n\nПрименение:\n• Криптовалюты (Bitcoin, Ethereum)\n• Смарт-контракты\n• Цифровая идентификация\n• Цепочки поставок",
                    conclusion: "Блокчейн революционизирует доверие в цифровых транзакциях."
                },

                // Наука
                "квантовая механика": {
                    answer: "Квантовая механика - фундаментальная теория, описывающая поведение микрочастиц.\n\nОсновные принципы:\n• Волновая функция\n• Принцип неопределенности Гейзенберга\n• Квантовая суперпозиция\n• Квантовая запутанность\n\nПрименение:\n• Лазеры\n• Транзисторы\n• МРТ\n• Квантовые компьютеры",
                    conclusion: "Квантовая механика лежит в основе современных технологий."
                },
                "относительность": {
                    answer: "Теория относительности - физическая теория пространства-времени.\n\nСпециальная теория (1905):\n• Скорость света постоянна\n• Относительность одновременности\n• Замедление времени\n\nОбщая теория (1915):\n• Гравитация как кривизна пространства-времени\n• Гравитационные волны\n• Черные дыры",
                    conclusion: "Теория относительности изменила понимание пространства и времени."
                },

                // Технологии будущего
                "квантовые компьютеры": {
                    answer: "Квантовые компьютеры используют квантовые биты (кубиты).\n\nПринципы:\n• Суперпозиция\n• Запутанность\n• Квантовый параллелизм\n\nПреимущества:\n• Экспоненциальное ускорение для определенных задач\n• Моделирование квантовых систем\n• Криптография\n• Оптимизация",
                    conclusion: "Квантовые вычисления - следующая frontier в компьютерных технологиях."
                },
                "виртуальная реальность": {
                    answer: "VR - технологии, создающие искусственный мир.\n\nТипы VR:\n• Полное погружение\n• Дополненная реальность (AR)\n• Смешанная реальность (MR)\n\nПрименение:\n• Игры и развлечения\n• Обучение и симуляции\n• Медицина\n• Архитектура",
                    conclusion: "VR открывает новые возможности для взаимодействия с цифровым миром."
                }
            };

            // Поиск точного совпадения
            if (knowledgeBase[lowerPrompt]) {
                return knowledgeBase[lowerPrompt];
            }

            // Поиск по ключевым словам
            for (const [key, value] of Object.entries(knowledgeBase)) {
                if (lowerPrompt.includes(key)) {
                    return value;
                }
            }

            // Умный ответ для неизвестных вопросов
            return generateSmartResponse(prompt);
        }

        // Генерация умного ответа для неизвестных вопросов
        function generateSmartResponse(prompt) {
            const responses = [
                {
                    answer: `На основе вашего запроса "${prompt}", я могу сказать, что это интересная тема для обсуждения.\n\nДля более точного ответа рекомендую:\n• Уточнить ваш вопрос\n• Задать его в другой формулировке\n• Разбить на несколько конкретных вопросов`,
                    conclusion: `Тема "${prompt}" требует дополнительного изучения. Рекомендую обратиться к специализированным источникам для углубленного понимания.`
                },
                {
                    answer: `Ваш вопрос "${prompt}" затрагивает важные аспекты. На основе доступных данных могу отметить, что это направление активно развивается и имеет множество применений в современном мире.`,
                    conclusion: `Для комплексного понимания "${prompt}" рекомендую изучить академические источники и современные исследования по данной теме.`
                },
                {
                    answer: `Интересный вопрос "${prompt}"! Эта тема включает несколько аспектов, которые стоит рассмотреть отдельно для полного понимания.`,
                    conclusion: `"${prompt}" - перспективное направление, за которым стоит следить для понимания современных технологических трендов.`
                }
            ];

            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Показать индикатор загрузки
        function showLoading(message, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = `<div class="loading">${message}</div>`;
        }

        // Отображение результатов поиска
        function displaySearchResults(query, result) {
            const responseContainer = document.getElementById('responseContainer');
            responseContainer.innerHTML = '';
            
            const questionElement = document.createElement('div');
            questionElement.classList.add('question');
            questionElement.textContent = `Вопрос: ${query}`;
            responseContainer.appendChild(questionElement);
            
            const answerElement = document.createElement('div');
            answerElement.classList.add('answer');
            answerElement.textContent = result.content;
            responseContainer.appendChild(answerElement);
            
            if (result.source === 'google') {
                const googleIndicator = document.createElement('div');
                googleIndicator.classList.add('google-search-indicator');
                googleIndicator.textContent = '✓ Информация получена из Google';
                responseContainer.appendChild(googleIndicator);
            }
        }

        // Отображение результатов ИИ
        function displayAIResults(query, result) {
            document.getElementById('aiAnswer').textContent = result.answer;
            document.getElementById('aiConclusion').textContent = result.conclusion;
        }

        // Обработчик поиска
        async function handleSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const query = searchInput.value.trim();
            
            if (!query) {
                displaySearchResults('', {content: 'Пожалуйста, введите ваш вопрос', source: 'error'});
                return;
            }
            
            searchButton.disabled = true;
            searchButton.textContent = 'Поиск...';
            
            try {
                showLoading("Обрабатываем запрос...", 'responseContainer');
                const result = await smartSearch(query);
                displaySearchResults(query, result);
            } catch (error) {
                const responseContainer = document.getElementById('responseContainer');
                responseContainer.innerHTML = `<div class="answer error-message">Ошибка: ${error.message}</div>`;
            } finally {
                searchButton.disabled = false;
                searchButton.textContent = 'Найти';
                searchInput.value = '';
            }
        }

        // Обработчик ИИ-запроса
        async function handleAIRequest() {
            const aiInput = document.getElementById('aiInput');
            const aiSendButton = document.getElementById('aiSendButton');
            const query = aiInput.value.trim();
            
            if (!query) {
                document.getElementById('aiAnswer').textContent = 'Пожалуйста, введите ваш вопрос';
                document.getElementById('aiConclusion').textContent = 'Введите запрос для получения ответа';
                return;
            }
            
            aiSendButton.disabled = true;
            aiSendButton.textContent = 'Обработка...';
            
            try {
                const result = await queryAI(query);
                displayAIResults(query, result);
            } catch (error) {
                document.getElementById('aiAnswer').textContent = 'Извините, произошла ошибка при обработке запроса.';
                document.getElementById('aiConclusion').textContent = 'Пожалуйста, попробуйте позже или переформулируйте вопрос.';
                console.error('AI Error:', error);
            } finally {
                aiSendButton.disabled = false;
                aiSendButton.textContent = 'Отправить';
                aiInput.value = '';
            }
        }

        // Смена темы
        function toggleTheme() {
            const body = document.body;
            const themeIcons = document.querySelectorAll('.theme-icon');
            
            if (body.classList.contains('dark-theme')) {
                body.classList.remove('dark-theme');
                body.classList.add('light-theme');
                themeIcons.forEach(icon => icon.textContent = '🌙');
            } else {
                body.classList.remove('light-theme');
                body.classList.add('dark-theme');
                themeIcons.forEach(icon => icon.textContent = '☀️');
            }
        }

        // Навигация между экранами
        function showScreen(screenId) {
            // Скрыть все экраны
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('searchPage').style.display = 'none';
            document.getElementById('aiPage').style.display = 'none';
            
            // Показать нужный экран
            document.getElementById(screenId).style.display = 'flex';
        }

        // Инициализация
        document.addEventListener('DOMContentLoaded', function() {
            createLaserBackground();
            createFloatingTexts();
            createPulsingSpheres();
            
            // Показать главное меню после загрузочного экрана
            setTimeout(() => {
                document.getElementById('splashScreen').style.display = 'none';
                showScreen('mainMenu');
            }, 3000);
            
            // Обработчики навигации
            document.getElementById('searchMenuButton').addEventListener('click', () => showScreen('searchPage'));
            document.getElementById('aiMenuButton').addEventListener('click', () => showScreen('aiPage'));
            
            document.getElementById('backFromSearch').addEventListener('click', () => showScreen('mainMenu'));
            document.getElementById('backFromAI').addEventListener('click', () => showScreen('mainMenu'));
            
            // Обработчики поиска
            document.getElementById('searchButton').addEventListener('click', handleSearch);
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') handleSearch();
            });
            
            // Обработчики ИИ
            document.getElementById('aiSendButton').addEventListener('click', handleAIRequest);
            document.getElementById('aiInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') handleAIRequest();
            });
            
            // Обработчики смены темы
            document.getElementById('themeToggleSearch').addEventListener('click', toggleTheme);
            document.getElementById('themeToggleAI').addEventListener('click', toggleTheme);
        });
    </script>
</body>
</html>
